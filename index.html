<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Jay Swaminarayan</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="js/a1.js"></script>
    <script src="js/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
    

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Hisab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Pricing</a>
            </li>
          </ul>
          <span class="navbar-text">
            Navbar text with an inline element
          </span>
        </div>
      </nav>

    <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Launch demo modal
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <header class="w3-container w3-blue w3-round w3-center">
            <h3>Hisab nu module હિસાબ નું ફોર્મ</h3>
          </header>
          <form id="gform" class="was-validated"><br>
            <div class="form-group">
              <input class="form-control"  type="date" name="tarikh" id="tarikh" placeholder="Date તારીખ" required ><label class="" for="">Date તારીખ </label>  
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
            <div class="form-group">
              <input class="form-control" type="text" name="what" id="what" placeholder="For What શેના માટે" required><label class="" for="">For What શેના માટે </label>
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
            <div class="form-group">
              <input class="form-control" type="number" name="kharcho" id="kharcho" placeholder="Kharcho ખર્ચો" required><label class="" for="">Kharcho ખર્ચો</label>
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
             <input onclick="insert_value();" id="insertbtn" class="btn btn-primary" type="" value="insert">
            <a class="btn btn-info round" href="https://docs.google.com/spreadsheets/d/1MnhtTO7rMuMFDvoPP6HTrU4CRrnQYX8Cv1Nv7eSbESw/edit?usp=sharing" target="_blank">Goto sheet</a> 

          </form>
          <footer class="w3-container w3-blue w3-round w3-center" >
            <h3>Jay Swaminarayan જય સ્વામિનારાયણ</h3>
          </footer>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" onclick="read_value();" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
    



  <script>
  
  var script_url = "https://script.google.com/macros/s/AKfycbyvtKSzvxk8f5vum9qv_JVLtJNCqz8zbcHdN1-HsKqt2nx6psk/exec";
  
  // Make an AJAX call to Google Script
  function insert_value() {
    


var tarikh=	$("#tarikh").val();
	var what= $("#what").val();
	var kharcho=$("#kharcho").val();
	
    var url = script_url+"?callback=ctrlq&tarikh="+tarikh+"&kharcho="+kharcho+"&what="+what+"&action=insert";
  

    jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp",
      success: function(e,f){ alert(f) } 
    });

  }
  
  function update_value(){
    var id1=	$("#id").val();
	  var name= $("#name").val();
    var url = script_url+"?callback=ctrlq&name="+name+"&id="+id1+"&action=update";
    var request = jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp"
    });
  }

  function delete_value(){
	$("#re").css("visibility","hidden");
     document.getElementById("loader").style.visibility = "visible";
	$('#mySpinner').addClass('spinner');
    var id1=	$("#id").val();
    var name= $("#name").val();
    var url = script_url+"?callback=ctrlq&name="+name+"&id="+id1+"&action=delete";
    var request = jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp"
    });
  }
  // print the returned data
  function ctrlq(e) {
	$("#re").html(e.result);
	$("#re").css("visibility","visible");
	read_value();
  }
  function read_value() {
  var url = script_url+"?action=read";

  $.getJSON(url, function (json) {

    json = JSON.stringify(json)
    alert(json);

    
  });
}
  
 </script>

    <!--Scripts external non of use you can delete -->
    
</body>
</html>