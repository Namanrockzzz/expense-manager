<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='manifest' href='/manifest.webmanifest'>
    <title>Jay Swaminarayan</title>

    <link href="https://fonts.googleapis.com/css?family=Signika&display=swap" rel="stylesheet">
    <style>
      body{
        font-family: 'Signika', sans-serif;
      }
    </style>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="js/a1.js"></script>
    <script src="js/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Signika&display=swap" rel="stylesheet">
    <style>
      body{
        font-family: 'Signika', sans-serif;
      }
    </style>
</head>
    

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Hisab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                  <i class="fa fa-book"></i>   Features
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                  <i class="fa fa-money"></i>  Pricing
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <i class="fa fa-user"></i> Login
              </a>
            </li>
          </ul>
          <span class="navbar-text">
            Jay Swaminarayan
          </span>
        </div>
      </nav>

    <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Launch demo modal
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-center" id="exampleModalLabel">Hisab nu module હિસાબ નું ફોર્મ</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <header class="w3-container w3-blue w3-round w3-center">
              <img
                src ="https://lh3.googleusercontent.com/xM03bQROB4ROn4vktK5-rh-O1IgHFaArD0eS7YcLTG18RAoTvVSuF0exuPt-H6pa6H-TApLcgi4umOkMoo09Ix-gpponHfwkjB3OXl01ICx4XcWEkgaW9MPs7QGlDsT_iadKmaPCMzj90I4O3JrT84Vr-qr8I3yiz5eR-ZlE3k5mHKcWrHNuqqWJihjWDw4BOfAKvHb2H9BR6G_TUj7x5rHcxkHA79BXGH_pkCltl2vdypBDsGd0HZBOeLlmZUa3efmeNlx9W96HfzLdOzmKtzzQi50vlVKmgOtVDUO36KitvdcbjXot1qHQgFmCBXQ7IJ2aikDcPNZFGEVIFRlpZksyccvp1cWdg693iYi_N6U3K5ei4J74za0WDbGntLlPDdVPsru-yo9Guoh3Km-0g4plAC869Fp4NHLw3uaL3xV7R4ug_-FCPNY0L9XHViblLMCMKRnK36josUapvZ0eFmP1wY0pND7bXycwm8IiTwLRLTxH7-f25EYvcHhyHWWqnDWd74sLT5micj-sRVp9Rp65LxzFVn23jh3lWIrtPVsjkFgOSON7yZ8xGaiYpnHl07j1kD8dC78zLmIYJsEonpeMyw7fglyPdz4OECgFf8kBoweu6kT5ZjZmn9SXBJ7FQkcZ2QaIaBex6uplzlyCzj9e2pzDyOv1RzpIzMoPtP-kKgSBwdTYQckIZc3J6qXY9-dEOaUVJbamlX8BD7VblLgUYw"
                height="150px"
                width="150px"
                class="rounded-circle mx-auto d-block"
              />
          </header>
          <form id="gform" class="needs-validation" novalidate><br>
            <div class="form-group">
              <input class="form-control"  type="date" name="tarikh" id="tarikh" placeholder="Date તારીખ" required ><label class="" for="">Date તારીખ </label>  
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
            <div class="form-group">
              <input class="form-control" type="text" name="what" id="what" placeholder="For What શેના માટે" required><label class="" for="">For What શેના માટે </label>
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
            <div class="form-group">
              <input class="form-control" type="number" name="kharcho" id="kharcho" placeholder="Kharcho ખર્ચો" required><label class="" for="">Kharcho ખર્ચો</label>
              <div class="invalid-feedback">Please Feel Right Value.</div>
              <div class="valid-feedback">Correct.</div>
            </div>
             <button id="insertbtn" class="btn btn-primary" type="submit" >insert</button>
            <a class="btn btn-info round" href="https://docs.google.com/spreadsheets/d/1MnhtTO7rMuMFDvoPP6HTrU4CRrnQYX8Cv1Nv7eSbESw/edit?usp=sharing" target="_blank">Goto sheet</a> 

          </form>
          <footer class="w3-container w3-blue w3-round w3-center" >
            <h3>Jay Swaminarayan જય સ્વામિનારાયણ</h3>
          </footer>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" onclick="read_value();" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

<script>


 


//   // Example starter JavaScript for disabling form submissions if there are invalid fields
// (function() {
//   'use strict';
//   window.addEventListener('load', function() {
//     // Fetch all the forms we want to apply custom Bootstrap validation styles to
//     var forms = document.getElementsByClassName('needs-validation');
//     // Loop over them and prevent submission
//     var validation = Array.prototype.filter.call(forms, function(form) {
//       form.addEventListener('submit', function(event) {
//         if (form.checkValidity() === false) {
//           event.preventDefault();
//           event.stopPropagation();
//         }
//         form.classList.add('was-validated');
//       }, false);
//     });
//   }, false);
// })();



$(document).ready(function(){
    $('form').on('change','input',function(){
      $('#insertbtn').show();  
    });
    $('#insertbtn').click((e)=>{
      e.preventDefault();
      var form = document.getElementById('gform');
      if( form.checkValidity() == false ){
        $('#gform').addClass('was-validated');
      }else {
        insert_value();  
      }
    });
  });


  var script_url = "https://script.google.com/macros/s/AKfycbyvtKSzvxk8f5vum9qv_JVLtJNCqz8zbcHdN1-HsKqt2nx6psk/exec";
  
  // Make an AJAX call to Google Script
function insert_value() {
  var tarikh=	$("#tarikh").val();
	var what= $("#what").val();
	var kharcho=$("#kharcho").val();
	
    var url = script_url+"?tarikh="+tarikh+"&kharcho="+kharcho+"&what="+what+"&action=insert";
     var abc= jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp",
      beforeSend: function(xhr){ 
        $('#insertbtn').hide();
      },
      success: function(e,f){ 
        e = JSON.stringify(e);
        alert(e);
        $('form input').each( (key, element) => {
          element.value="";
        });
        $('#gform').removeClass('was-validated');
      },
      

    });
    // abc = JSON.stringify(abc);
    // alert(abc);
    console.log(abc);
}

function hari(){
    alert('hari');
}
function update_value(){
  var id1=	$("#id").val();
  var name= $("#name").val();
  var url = script_url+"?callback=ctrlq&name="+name+"&id="+id1+"&action=update";
  var request = jQuery.ajax({
    crossDomain: true,
    url: url ,
    method: "GET",
    dataType: "jsonp"
  });
}

function delete_value(){
  var id1=	$("#id").val();
  var name= $("#name").val();
  var url = script_url+"?callback=ctrlq&name="+name+"&id="+id1+"&action=delete";
  var request = jQuery.ajax({
    crossDomain: true,
    url: url ,
    method: "GET",
    dataType: "jsonp"
  });
}
  // print the returned data
function ctrlq(e) {
	alert(e.result);
	read_value();
}
function read_value() {
  var url = script_url+"?action=read";
  $.getJSON(url, function (json) {
    json = JSON.stringify(json)
    alert(json);
  });
}
  
 </script>
 <script>
  // This is the "Offline page" service worker

// Add this below content to your HTML page, or add the js file to your page at the very top to register service worker

// Check compatibility for the browser we're running this in
if ("serviceWorker" in navigator) {
  if (navigator.serviceWorker.controller) {
    console.log("[PWA Builder] active service worker found, no need to register");
  } else {
    // Register the service worker
    navigator.serviceWorker
      .register("pwabuilder-sw.js", {
        scope: "./"
      })
      .then(function (reg) {
        console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
      });
  }
}

 </script>

    <!--Scripts external non of use you can delete -->
    
</body>
</html>